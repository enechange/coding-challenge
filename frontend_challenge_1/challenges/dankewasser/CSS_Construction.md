# CSS設計思想の補足（課題2にかえて）

## 共通する思想

- スタイルはクラス・疑似要素・時として属性にのみ書きます。IDや要素にスタイルを書くことは最小限にとどめます。
    - スタイルはクラスで、ロジックはそれ以外でと明確に分離することが目的です。
    - ロジックの都合でID等が変わったり、構成の変更によって要素が変わったりしても見た目が維持されます。
    - scoped で書ける場合は要素にある程度スタイルを書いても大丈夫なのですが、書きやすい反面、再利用性を考えると避けるべきです。たとえば見出しのレベルが場所によって変わったりすると耐えられなくなります。
- ネストは原則しません。
    - 詳細度が複雑になるほど、JS等で後からスタイルを操作するのが困難になるためです。
- `&`を使ってクラス名をつなげて長くしません。（エディタの検索やコードジャンプの対象にするため。またインデントが増えすぎると可読性が落ちる）

## このページ（LP風）の場合
LPのような単一ページ、かつWebシステム等と違って見た目に凝ったものは、コーディングにあたって以下のような逆風にさらされます。

- かっちりと仕様が決まってから走り出せるとは限らない
- 対応も「よしなに」が求められることも少なくない
- 短期間のうちに予期せぬ変更が頻繁に入りがち
- 各要素の共通性を見た目から見出しにくい。要素ごとに細かな違いが多く、ひとつとして完全に同じ見た目の要素がない場合もある

そのため、多少の再利用性を犠牲にしても、堅牢性の高いルールを採用する必要があります。
多くの場合、FLOCSSを採用します。各要素の役割が厳密かつ明確になり、後で管理しやすくなるためです。
BEMはクラス名が長大になりすぎて書きづらく、SMACSSは再利用可能・不可能の区別をしづらいため理解が浅いと不適切な（要素の本質をみない）再利用がされてしまうことがあります。

私の場合、そこにECSSの思想を取り入れることがあります。
以下にFLOCSSであまり言及されていない（ECSS風のものを含む）記述について説明します。

- プレフィックスを除き、パスカルケースで記述します。ECSSにおけるネームスペースを付加することを想定しているためです。珍しいとは思いますのでどこまで実運用で使うかは要相談です。
- ElementとModifierはアンダースコア1個で繋ぎます。原則的にこれ以外にアンダースコアを使用しません。
- コンポーネントを除き、クラスの使い回しはなるべく避けます。これによって手間はかかりますが予期せぬ不具合は最小限となります（とくにLP風のページは後からどんなデザイン変更があるか予測できないため、見た目が似ているかでなく本質的にどういう要素であるかで命名する）
    - スタイルを使い回す場合、必要であればextendやmixinを利用します。
- `.u-mt10` のように、数値を直接入れるようなUtilityは作りません。レスポンシブデザインと相性がとても悪く、長期間運用されると大惨事になります。
- マルチクラスは `t` や `is` を除いて使いません。マルチクラスにしなければならない要素は、もう既存の要素とは別物とみなして新しいクラスにするほうがあとから壊れにくいからです。

なお、インデント記法のほうが波括弧の閉じ忘れ等に強いため、Stylusを選択することが多いです。イニシャルの学習コストはかかりますが、覚えてしまえばSCSSより下記やすさに優れています。

## Webアプリケーションの場合
逆に、Webアプリケーションの場合はルールのカスタマイズをほとんど行いません。
かつ、既に一定の評価の得られているルールに限り採用します。

- 複数人で開発する場合が多い……初期の学習コストは低いほうが良い
- JSフレームワークがあればscopedで書ける……他要素への影響を考慮する必要が薄い

この場合、もっともシンプルに書けて再利用性の高いSMACSSを採用します。
BEMはやはり長大になりすぎですし、FLOCSSくらい厳密に書くまでもなく多くの要素が再利用可能であるからです。

たとえばラジオボタンを配置する場合、このような記述となります。

HTML
```vue
    <label class="inputRadio">
      <input type="radio" name="normal-personal" class="inputRadio-input" value="true" v-model="myPrivateInfoFlg">
      <span class="inputRadio-text">あり</span>
    </label>
    <label class="inputRadio">
      <input type="radio" name="normal-personal" class="inputRadio-input" value="false" v-model="myPrivateInfoFlg">
      <span class="inputRadio-text">なし</span>
    </label>
```

CSS
```scss
.inputRadio {
  display: inline-block;

  & + & {
    margin-left: 20px;
  }
}

.inputRadio-input {
  display: none;

  &:checked + .inputRadio-text::after {
    @include radioBtnAfter();
  }
}

.inputRadio-text {
  position: relative;
  display: inline-block;
  padding-left: 31px;
  vertical-align: middle;

  &::before {
    @include radioBtnBefore();
  }
}
```

なお、多くの人がプロジェクトに参画することを考慮し、学習コストが低く習得者も多いSCSSを採用することが多いです。
